(this["webpackJsonplungi-manufacturing"]=this["webpackJsonplungi-manufacturing"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),o=n(87),s=n(25),l=n(36),u=n(18),d=n(12),j=(n(116),n(14)),b=n.n(j),h=n(21),p=n(22),O=n(8),m=n(7),g=n(94),x=n(170),f=n(171),v=n(164),y="http://localhost:8080/api/",w="cone-bheem",C="than",k="employee",S="details";function N(e,t,n){var a=new Date;n=parseFloat(n),a.setTime(a.getTime()+24*n*60*60*1e3);var r=-1==n?"expires=Thu, 01 Jan 1970 00:00:01 GMT":"expires="+a.toUTCString();document.cookie=e+"="+t+"; "+r+";path=/"}function A(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}var L=function(e){return window.localStorage.getItem(e)},E=n(55),q=n(167),I=n(2),M=["value","name","label","onChange","error","errorMsg","className"],P=Object(v.a)((function(){return{textField:{"& input":{padding:12},"& .MuiInputLabel-outlined":{transform:"translate(14px, 12px) scale(1)","&.MuiInputLabel-shrink":{transform:"translate(14px, -4px) scale(0.75)"}},marginBottom:12}}}));function T(e){var t=e.value,n=e.name,a=e.label,r=e.onChange,c=e.error,i=void 0!==c&&c,o=e.errorMsg,s=void 0===o?"":o,l=e.className,u=void 0===l?"":l,d=Object(E.a)(e,M),j=P();return Object(I.jsx)(q.a,Object(O.a)(Object(O.a)({variant:"outlined",value:t,error:i},i?{helperText:s}:{}),{},{id:n,name:n,label:a,className:"".concat(j.textField," ").concat(u),onChange:r,fullWidth:!0},d))}var D=Object(v.a)({paper:{width:300,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:20}});function B(){var e=Object(a.useState)({username:"",password:""}),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(m.a)(c,2),o=i[0],s=i[1];Object(a.useEffect)((function(){A("userToken")&&(window.location.href="/")}),[]);var l=function(e){var t=e.target,n=t.name,a=t.value;return r((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(p.a)({},n,a))}))},u=function(){var e=Object(h.a)(b.a.mark((function e(){var t,a,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,a=n.password,e.next=3,fetch("".concat(y,"auth/signin"),{method:"POST",body:JSON.stringify({username:t.toLowerCase(),password:a}),headers:{"Content-Type":"application/json"}});case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:(c=e.sent).error?(d.b.error(c.error),s(!1)):(i="userRole",o=JSON.stringify(c.roles),window.localStorage.setItem(i,o),N("userToken",c.token,30),window.location.href="/"),e.next=13;break;case 11:d.b.error("Wrong username and password, Please try again!"),s(!1);case 13:case"end":return e.stop()}var i,o}),e)})));return function(){return e.apply(this,arguments)}}(),j=D();return Object(I.jsxs)(g.a,{className:j.paper,children:[Object(I.jsx)(T,{required:!0,value:n.username,name:"username",label:"User Name",onChange:l}),Object(I.jsx)(T,{required:!0,value:n.password,name:"password",label:"Password",onChange:l,type:"password"}),Object(I.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){var e=n.username,t=n.password;e&&t?(s(!0),u()):d.b.error("Please add username and password")},disabled:o,children:o?Object(I.jsx)(f.a,{size:25}):"Login"})]})}var F=n(172),W=n(173),U=n(174),G=n(58),H=n(196),K=n(177),J=n(169),Y=n(135),R=n(178),z=n(180),Q=n(175),Z=n(176),V=n(179),X=n(181),$=n(4),_="#4791db",ee="#FFFFFF",te="#f44336",ne="#9c27b0",ae="#424242",re="#000000",ce="#2a8703",ie=150,oe=Object(v.a)((function(e){return{root:{display:"flex",height:"100vh",overflow:"auto"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(ie,"px)"),marginLeft:ie,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:ie,flexShrink:0},drawerPaper:{width:ie},drawerHeader:Object(O.a)(Object(O.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:"24px 12px",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-150},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},listItemIcon:{minWidth:36},navLink:{textDecoration:"none",color:re},selectedNavLink:{"& .MuiListItemText-primary":{fontWeight:600}},bodyContent:{height:"100%"},logout:{position:"absolute",bottom:0,margin:20,color:"#4051b5",cursor:"pointer"}}}));function se(e){var t=e.children,n=oe(),a=r.a.useState(!1),c=Object(m.a)(a,2),i=c[0],o=c[1],s=function(){o(!1)};return Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsx)(F.a,{position:"fixed",className:Object($.a)(n.appBar,Object(p.a)({},n.appBarShift,i)),children:Object(I.jsxs)(W.a,{children:[Object(I.jsx)(U.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",className:Object($.a)(n.menuButton,i&&n.hide),children:Object(I.jsx)(Q.a,{})}),Object(I.jsx)(G.a,{variant:"h6",noWrap:!0,children:"ZA7 Fabrics"})]})}),Object(I.jsxs)(H.a,{className:n.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:n.drawerPaper},children:[Object(I.jsx)("div",{className:n.drawerHeader,children:Object(I.jsx)(U.a,{onClick:s,children:Object(I.jsx)(Z.a,{})})}),Object(I.jsx)(K.a,{}),Object(I.jsxs)(J.a,{children:[Object(I.jsx)(l.c,{to:"/home",className:n.navLink,activeClassName:n.selectedNavLink,onClick:s,children:Object(I.jsxs)(Y.a,{button:!0,children:[Object(I.jsx)(R.a,{className:n.listItemIcon,children:Object(I.jsx)(V.a,{})}),Object(I.jsx)(z.a,{primary:"Home"})]})}),Object(I.jsx)(l.c,{to:"/users",className:n.navLink,activeClassName:n.selectedNavLink,onClick:s,children:Object(I.jsxs)(Y.a,{button:!0,children:[Object(I.jsx)(R.a,{className:n.listItemIcon,children:Object(I.jsx)(X.a,{})}),Object(I.jsx)(z.a,{primary:"Users"})]})})]}),Object(I.jsx)("p",{className:n.logout,onClick:function(){console.log("handleLogout"),N("userToken","",-1),window.location.href="/login"},children:"Logout"})]}),Object(I.jsxs)("main",{className:Object($.a)(n.content,Object(p.a)({},n.contentShift,i)),children:[Object(I.jsx)("div",{className:n.drawerHeader}),Object(I.jsx)("div",{className:n.bodyContent,onClick:function(){i&&o(!1)},children:t})]})]})}var le=function(e){return A("userToken")?Object(I.jsx)(u.b,Object(O.a)({},e)):Object(I.jsx)(u.a,{to:"/login"})},ue=(n(86),n(188)),de=n(182),je=n(185),be=n(186),he=n(187),pe=n(5),Oe=n(183),me=n(184),ge=["children","classes","onClose","onEdit","showEdit"],xe=function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:8,top:8,color:te},editButton:{position:"absolute",right:50,top:e.spacing(1),color:_},doneButton:{position:"absolute",right:90,top:e.spacing(1),color:ce},dialog:{"& .MuiDialog-paper":{minWidth:300}},content:{"& p":{margin:0,marginBottom:8,fontSize:14,"& span":{color:ae,display:"inline-block",width:100}}}}},fe=Object(pe.a)(xe)((function(e){var t=e.children,n=e.classes,a=e.onClose,r=e.onEdit,c=e.showEdit,i=Object(E.a)(e,ge);return Object(I.jsxs)(de.a,Object(O.a)(Object(O.a)({disableTypography:!0,className:n.root},i),{},{children:[Object(I.jsx)(G.a,{variant:"h6",children:t}),a?Object(I.jsx)(U.a,{"aria-label":"close",className:n.closeButton,onClick:a,children:Object(I.jsx)(Oe.a,{})}):null,c&&Object(I.jsx)(U.a,{"aria-label":"edit",className:n.editButton,onClick:r,children:Object(I.jsx)(me.a,{})})]}))})),ve=Object(pe.a)((function(e){return{root:{padding:e.spacing(2)}}}))(je.a),ye=Object(pe.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(be.a),we=Object(v.a)(xe);function Ce(e){var t=e.onClose,n=e.heading,a=e.showEdit,r=e.editOpenCallback,c=e.handleAction,i=e.actionLabel,o=e.loadingAction,s=void 0!==o&&o,l=e.children,u=we();return Object(I.jsxs)(he.a,{onClose:t,"aria-labelledby":"customized-dialog-title",open:!0,className:u.dialog,children:[Object(I.jsx)(fe,{id:"customized-dialog-title",onClose:t,onEdit:r,showEdit:a,children:n}),Object(I.jsx)(ve,{dividers:!0,children:l}),c&&Object(I.jsx)(ye,{children:Object(I.jsx)(x.a,{onClick:c,color:"primary",disabled:s,children:s?Object(I.jsx)(f.a,{size:25}):i})})]})}var ke={listItem:{display:"inline-block",verticalAlign:"middle",padding:"8px 16px",color:re,borderRadius:4,marginRight:12,marginBottom:12,border:"1px solid ".concat(re)},button:{backgroundColor:"".concat(_," !important"),color:ee,position:"absolute",bottom:12,right:12}},Se=Object(v.a)(ke);function Ne(e){var t=e.addPersonCallback,n=Object(a.useState)(!1),r=Object(m.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),s=Object(m.a)(o,2),l=s[0],u=s[1],j=Object(a.useState)(""),p=Object(m.a)(j,2),O=p[0],g=p[1],x=Object(a.useState)(!0),f=Object(m.a)(x,2),v=f[0],w=f[1],C=Object(a.useState)(!0),S=Object(m.a)(C,2),N=S[0],A=S[1],L=Object(a.useState)(""),E=Object(m.a)(L,2),q=E[0],M=E[1],P=Object(a.useState)(!1),D=Object(m.a)(P,2),B=D[0],F=D[1],W=function(e){!0===e&&t(),i(!1),u(""),g(""),w(!0),A(!0),M(""),F(!1)},G=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return A(!1),e.abrupt("return");case 3:if(O&&10===O.length){e.next=6;break}return w(!1),e.abrupt("return");case 6:return F(!0),e.next=9,fetch("".concat(y).concat(k),{method:"POST",body:JSON.stringify({name:l,mobile:O}),headers:{"Content-Type":"application/json"}});case 9:if(!(t=e.sent).ok){e.next=17;break}return e.next=13,t.json();case 13:(n=e.sent).error?(d.b.error(n.error),F(!1)):W(!0),e.next=19;break;case 17:d.b.error("Something went wrong, Please try again!"),F(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Se();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(U.a,{className:H.button,onClick:function(){return i(!0)},children:Object(I.jsx)(ue.a,{})}),c&&Object(I.jsxs)(Ce,{heading:"Add Person",onClose:W,handleAction:G,actionLabel:"Save",loadingAction:B,children:[Object(I.jsx)(T,{required:!0,value:l,error:!N,errorMsg:q||"Please enter name",name:"name",label:"Name",onChange:function(e){u(e.target.value),A(!0),M("")}}),Object(I.jsx)(T,{required:!0,value:O,error:!v,errorMsg:"Please enter valid mobile",name:"mobile",label:"Mobile",onChange:function(e){g(e.target.value),w(!0)},type:"number"})]})]})}var Ae=Object(v.a)(ke);function Le(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),i=Object(m.a)(c,2),o=i[0],s=i[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y).concat(k),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:(n=e.sent).error?d.b.error(n.error):r(n),e.next=11;break;case 10:d.b.error("Something went wrong, Please try again!");case 11:s(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Ae();return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(Ne,{addPersonCallback:function(){s(!0),r(null),u()}}),o?Object(I.jsx)(f.a,{}):Object(I.jsx)(I.Fragment,{children:n?n.map((function(e){return Object(I.jsx)(l.b,{to:"/users/".concat(e.id),children:Object(I.jsx)("div",{className:j.listItem,children:e.name})},e.id)})):Object(I.jsx)("p",{children:"No Person Found!"})})]})}var Ee=n(132),qe=n(193),Ie=n(190),Me=n(192),Pe=n(141),Te=n(137),De=n(189),Be=n(133),Fe=["label","name","value","options","onChange","errorMsg","error","className"],We=Object(v.a)((function(){return{nameSelect:{display:"block","& .MuiOutlinedInput-root":{width:"100%","& .MuiSelect-outlined.MuiSelect-outlined":{padding:12}},"& .MuiInputLabel-outlined":{transform:"translate(14px, 12px) scale(1)","&.MuiInputLabel-shrink":{transform:"translate(14px, -4px) scale(0.75)"}},marginBottom:12}}}));function Ue(e){var t=e.label,n=e.name,a=e.value,r=e.options,c=e.onChange,i=e.errorMsg,o=void 0===i?"":i,s=e.error,l=void 0!==s&&s,u=e.className,d=void 0===u?"":u,j=Object(E.a)(e,Fe),b=We();return Object(I.jsxs)(Ee.a,{variant:"outlined",className:"".concat(b.nameSelect," ").concat(d),error:l,children:[Object(I.jsx)(Pe.a,{id:"".concat(n,"Label"),children:t}),Object(I.jsx)(Te.a,Object(O.a)(Object(O.a)({labelId:"".concat(n,"Label"),id:n,name:n,value:a,onChange:c,label:t},j),{},{children:r.map((function(e){return Object(I.jsx)(De.a,{value:e.value,children:e.name},e.value)}))})),l&&Object(I.jsx)(Be.a,{children:o})]})}var Ge=n(191),He=Object(v.a)((function(){return{date:{width:"100%",marginBottom:12}}}));function Ke(e){var t=e.value,n=e.onChange,a=e.label,r=void 0===a?"Date":a,c=He();return Object(I.jsx)(Ge.a,{label:r,value:t,onChange:n,animateYearScrolling:!0,className:c.date,autoOk:!0,disableFuture:!0})}var Je=function(e){var t=e.weight;return e.quantity?t?{success:!0}:{type:"weight",msg:"Please add weight."}:{type:"quantity",msg:"Please add quantity."}},Ye=function(e,t,n){var a=t.date,r=t.weight,c=t.quantity,i=t.extraLungi,o={employeeId:e,date:a.valueOf(),product:"LUNGI",quantity:c,weight:r};return i&&(o.extraLungi=i),n&&(o.id=n.id),o},Re=function(e,t,n,a){var r=t.date,c=t.weight,i=t.quantity,o={employeeId:e,date:r.valueOf(),product:a,type:"CONE",weight:c,quantity:i};return n&&(o.id=n.id),o},ze=function(e){var t=e.weight,n=e.pipeWeight,a=e.length;return t?n?a?{success:!0}:{type:"length",msg:"Please add length."}:{type:"pipeWeight",msg:"Please add pipe weight."}:{type:"weight",msg:"Please add total bheem weight."}},Qe=function(e,t,n,a){var r=t.date,c=t.weight,i=t.length,o=t.pipeWeight,s={employeeId:e,date:r.valueOf(),product:a,type:"BHEEM",weight:c,length:i,pipeWeight:o};return n&&(s.id=n.id),s},Ze=function(e){return e.quantity?{success:!0}:{type:"quantity",msg:"Please add quantity."}},Ve=function(e,t,n){var a=t.date,r=t.quantity,c={employeeId:e,date:a.valueOf(),product:"CHAUKA",quantity:r};return n&&(c.id=n.id),c};function Xe(e){var t=e.employeeId,n=e.handleClose,r=e.values,c=e.product,i=Object(a.useState)(function(e){return e?{date:new Date(e.date),weight:e.weight,pipeWeight:e.pipeWeight,length:e.length}:{date:new Date,weight:"",pipeWeight:"",length:""}}(r)),o=Object(m.a)(i,2),s=o[0],l=o[1],u=Object(a.useState)(""),j=Object(m.a)(u,2),g=j[0],x=j[1],f=Object(a.useState)(""),v=Object(m.a)(f,2),C=v[0],k=v[1],S=Object(a.useState)(!1),N=Object(m.a)(S,2),A=N[0],L=N[1],E=function(e){l((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))})),x(""),k("")},q=function(){var e=Object(h.a)(b.a.mark((function e(){var a,i,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=ze(s)).success){e.next=5;break}return x(a.type),k(a.msg),e.abrupt("return");case 5:return L(!0),i=Qe(t,s,r,c),e.next=9,fetch("".concat(y).concat(w).concat(r?"/".concat(r.id):""),{method:r?"PUT":"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}});case 9:if(!(o=e.sent).ok){e.next=17;break}return e.next=13,o.json();case 13:(l=e.sent).error?(d.b.error(l.error),L(!1)):n(!0),e.next=19;break;case 17:d.b.error("Something went wrong, Please try again!"),L(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(Ce,{heading:"Add Bheem",onClose:n,handleAction:q,actionLabel:"Save",loadingAction:A,children:[Object(I.jsx)(Ke,{value:s.date,onChange:function(e){l((function(t){return Object(O.a)(Object(O.a)({},t),{},{date:e})}))}}),Object(I.jsx)(T,{required:!0,value:s.weight,error:"weight"===g,errorMsg:C,name:"weight",label:"Bheem Weight(Kg)",onChange:E,type:"number"}),Object(I.jsx)(T,{required:!0,value:s.pipeWeight,error:"pipeWeight"===g,errorMsg:C,name:"pipeWeight",label:"Pipe Weight(Kg)",onChange:E,type:"number"}),Object(I.jsx)(T,{required:!0,value:s.length,error:"length"===g,errorMsg:C,name:"length",label:"Bheem Length(Meter)",onChange:E,type:"number"})]})}function $e(e){var t=e.employeeId,n=e.handleClose,r=e.values,c=Object(a.useState)(function(e){return e?{date:new Date(e.date),quantity:e.quantity}:{date:new Date,quantity:""}}(r)),i=Object(m.a)(c,2),o=i[0],s=i[1],l=Object(a.useState)(""),u=Object(m.a)(l,2),j=u[0],g=u[1],x=Object(a.useState)(""),f=Object(m.a)(x,2),v=f[0],w=f[1],k=Object(a.useState)(!1),S=Object(m.a)(k,2),N=S[0],A=S[1],L=function(){var e=Object(h.a)(b.a.mark((function e(){var a,c,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Ze(o)).success){e.next=5;break}return g(a.type),w(a.msg),e.abrupt("return");case 5:return A(!0),c=Ve(t,o,r),e.next=9,fetch("".concat(y).concat(C).concat(r?"/".concat(r.id):""),{method:r?"PUT":"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 9:if(!(i=e.sent).ok){e.next=17;break}return e.next=13,i.json();case 13:(s=e.sent).error?(d.b.error(s.error),A(!1)):n(!0),e.next=19;break;case 17:d.b.error("Something went wrong, Please try again!"),A(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(Ce,{heading:"Add Chauka",onClose:n,handleAction:L,actionLabel:"Save",loadingAction:N,children:[Object(I.jsx)(Ke,{value:o.date,onChange:function(e){s((function(t){return Object(O.a)(Object(O.a)({},t),{},{date:e})}))}}),Object(I.jsx)(T,{required:!0,value:o.quantity,error:"quantity"===j,errorMsg:v,name:"quantity",label:"Chauka Quantity",onChange:function(e){s((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))})),g(""),w("")},type:"number"})]})}function _e(e){var t=e.employeeId,n=e.handleClose,r=e.values,c=e.product,i=Object(a.useState)(function(e){return e?{date:new Date(e.date),weight:e.weight,quantity:e.quantity}:{date:new Date,weight:"",quantity:""}}(r)),o=Object(m.a)(i,2),s=o[0],l=o[1],u=Object(a.useState)(""),j=Object(m.a)(u,2),g=j[0],x=j[1],f=Object(a.useState)(""),v=Object(m.a)(f,2),C=v[0],k=v[1],S=Object(a.useState)(!1),N=Object(m.a)(S,2),A=N[0],L=N[1],E=function(e){l((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))})),x(""),k("")},q=function(){var e=Object(h.a)(b.a.mark((function e(){var a,i,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Je(s)).success){e.next=5;break}return x(a.type),k(a.msg),e.abrupt("return");case 5:return L(!0),i=Re(t,s,r,c),e.next=9,fetch("".concat(y).concat(w).concat(r?"/".concat(r.id):""),{method:r?"PUT":"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}});case 9:if(!(o=e.sent).ok){e.next=17;break}return e.next=13,o.json();case 13:(l=e.sent).error?(d.b.error(l.error),L(!1)):n(!0),e.next=19;break;case 17:d.b.error("Something went wrong, Please try again!"),L(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(Ce,{heading:"Add Cone",onClose:n,handleAction:q,actionLabel:"Save",loadingAction:A,children:[Object(I.jsx)(Ke,{value:s.date,onChange:function(e){l((function(t){return Object(O.a)(Object(O.a)({},t),{},{date:e})}))}}),Object(I.jsx)(T,{required:!0,value:s.weight,error:"weight"===g,errorMsg:C,name:"weight",label:"Total Weight(Kg)",onChange:E,type:"number"}),Object(I.jsx)(T,{required:!0,value:s.quantity,error:"quantity"===g,errorMsg:C,name:"quantity",label:"Cone Quantity",onChange:E,type:"number"})]})}function et(e){var t=e.employeeId,n=e.handleClose,r=e.values,c=Object(a.useState)(function(e){return e?{date:new Date(e.date),weight:e.weight,quantity:e.quantity||"",extraLungi:e.extraLungi}:{date:new Date,weight:"",quantity:"",extraLungi:""}}(r)),i=Object(m.a)(c,2),o=i[0],s=i[1],l=Object(a.useState)(""),u=Object(m.a)(l,2),j=u[0],g=u[1],x=Object(a.useState)(""),f=Object(m.a)(x,2),v=f[0],w=f[1],k=Object(a.useState)(!1),S=Object(m.a)(k,2),N=S[0],A=S[1],L=function(e){s((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))})),g(""),w("")},E=function(){var e=Object(h.a)(b.a.mark((function e(){var a,c,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Je(o)).success){e.next=5;break}return g(a.type),w(a.msg),e.abrupt("return");case 5:return A(!0),c=Ye(t,o,r),e.next=9,fetch("".concat(y).concat(C).concat(r?"/".concat(r.id):""),{method:r?"PUT":"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 9:if(!(i=e.sent).ok){e.next=17;break}return e.next=13,i.json();case 13:(s=e.sent).error?(d.b.error(s.error),A(!1)):n(!0),e.next=19;break;case 17:d.b.error("Something went wrong, Please try again!"),A(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(Ce,{heading:"".concat(r?"Edit":"Add"," Than"),onClose:n,handleAction:E,actionLabel:r?"Update":"Save",loadingAction:N,children:[Object(I.jsx)(Ke,{value:o.date,onChange:function(e){s((function(t){return Object(O.a)(Object(O.a)({},t),{},{date:e})}))}}),Object(I.jsx)(T,{required:!0,value:o.quantity,error:"quantity"===j,errorMsg:v,name:"quantity",label:"Than Quantity",onChange:function(e){var t=e.target,n=t.name,a=t.value;s((function(e){var t;return Object(O.a)(Object(O.a)({},e),{},(t={},Object(p.a)(t,n,a),Object(p.a)(t,"weight",a?2.5*parseInt(a):""),t))}))},type:"number"}),Object(I.jsx)(T,{required:!0,value:o.weight,error:"weight"===j,errorMsg:v,name:"weight",label:"Total Weight(Kg)",onChange:L,type:"number"}),Object(I.jsx)(T,Object(O.a)(Object(O.a)({value:o.extraLungi,error:"extraLungi"===j,errorMsg:v},"extraLungi"===j?{helperText:v}:{}),{},{name:"extraLungi",label:"Extra Lungi Quantity",onChange:L,type:"number"}))]})}var tt={button:{backgroundColor:"".concat(_," !important"),color:ee,position:"absolute",bottom:12,right:12},addContainer:{position:"absolute",bottom:72,right:12},addPersonBtn:{backgroundColor:"".concat(te," !important"),color:ee,display:"block",marginTop:8},addDetailsBtn:{backgroundColor:"".concat(ne," !important"),color:ee,display:"block",marginTop:8},listItem:{display:"inline-block",verticalAlign:"middle",padding:"8px 16px",color:re,borderRadius:4,marginRight:12,marginBottom:12,border:"1px solid ".concat(re)},activeListItem:{color:ee,backgroundColor:re},paper:{padding:12,marginTop:12},detailsItem:{"& p":{margin:0,display:"inline-block",width:"50%",fontSize:12,color:ae,"&:last-child":{textAlign:"right"}},"&:first-child":{marginBottom:8},"&:last-child":{"& p":{fontSize:14,color:re}}},chaukaDetails:{"& p":{width:"100%"}},extraLungi:{"& p":{width:"33%","&:nth-child(2)":{textAlign:"center"}}},dialog:{"& .MuiDialog-paper":{minWidth:300}},content:{"& p":{margin:0,marginBottom:8,fontSize:14,"& span":{color:ae,display:"inline-block",width:"55%"}}},dropBtn:{marginTop:10},dropdown:{width:"60%",display:"inline-block"},btn:{width:"40%",display:"inline-block",textAlign:"right"},done:{borderLeft:"4px solid ".concat(ce)}},nt=n(26),at=n.n(nt),rt=Object(v.a)(tt);function ct(e){var t=e.data,n=e.handleOpenDetails,a=rt();return Object(I.jsxs)(g.a,{elevation:3,className:"".concat(a.paper," ").concat("CONE"===t.type?a.cone:a.bheem),onClick:n,children:[Object(I.jsxs)("div",{className:a.detailsItem,children:[Object(I.jsx)("p",{children:at()(t.date).format("Do MMM'YY")}),Object(I.jsx)("p",{children:t.type})]}),Object(I.jsx)("div",{className:a.detailsItem,children:"CONE"===t.type?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[t.weight," KG"]}),Object(I.jsx)("p",{children:t.quantity})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[t.netWeight.toFixed(2)," KG"]}),Object(I.jsxs)("p",{children:[t.length," mtr"]})]})})]})}var it=Object(v.a)(tt);function ot(e){var t=e.data,n=e.handleOpenDetails,a=it();return Object(I.jsxs)(g.a,{elevation:3,className:"".concat(a.paper," ").concat("DONE"===t.status?a.done:""),onClick:n,children:[Object(I.jsxs)("div",{className:a.detailsItem,children:[Object(I.jsx)("p",{children:at()(t.date).format("Do MMM'YY")}),Object(I.jsx)("p",{children:"LUNGI"===t.product?"Than":"Chauka"})]}),Object(I.jsx)("div",{className:"".concat(a.detailsItem," ").concat("CHAUKA"===t.product&&a.chaukaDetails," ").concat(t.extraLungi&&a.extraLungi),children:"LUNGI"===t.product?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[t.weight," KG"]}),t.extraLungi&&Object(I.jsxs)("p",{children:[t.extraLungi," Lungi"]}),Object(I.jsx)("p",{children:t.quantity})]}):Object(I.jsx)("p",{children:t.quantity})})]})}var st=Object(v.a)(tt);function lt(e){var t=e.data,n=e.showEdit,a=e.onEditClose,r=e.activeEmployee,c=e.product,i=st();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:i.content,children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Date"}),at()(t.date).format("Do MMM'YY")]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Net Wt."}),t.netWeight.toFixed(2)," KG"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Bheem"}),t.weight," KG"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Pipe"}),t.pipeWeight," KG"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Length"}),t.length," mtr"]})]}),n&&Object(I.jsx)(Xe,{employeeId:r,handleClose:a,values:t,product:c})]})}function ut(e){var t=e.id,n=e.computedAmount,r=e.handleUpdate,c=Object(a.useState)(!1),i=Object(m.a)(c,2),o=i[0],s=i[1],l=Object(a.useState)(!1),u=Object(m.a)(l,2),j=u[0],g=u[1],f=Object(a.useState)({paymentDate:new Date,computedAmount:n,totalAmount:n,comment:""}),v=Object(m.a)(f,2),w=v[0],k=v[1],S=Object(a.useState)(""),N=Object(m.a)(S,2),A=N[0],L=N[1],E=Object(a.useState)(""),q=Object(m.a)(E,2),M=q[0],P=q[1],D=function(e){k((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(p.a)({},e.target.name,e.target.value))})),L(""),P("")},B=function(){var e=Object(h.a)(b.a.mark((function e(){var a,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.totalAmount){e.next=4;break}return L("totalAmount"),P("Please add amount"),e.abrupt("return");case 4:if(w.totalAmount==n||w.comment){e.next=8;break}return L("comment"),P("Please add comment as total amount is not same as computed amount"),e.abrupt("return");case 8:return g(!0),a={id:t,computedAmount:n,totalAmount:w.totalAmount,paymentDate:w.paymentDate,status:"DONE",comment:w.comment},e.next=12,fetch("".concat(y).concat(C,"/").concat(t,"/pay"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 12:if(!(c=e.sent).ok){e.next=20;break}return e.next=16,c.json();case 16:(i=e.sent).error?(d.b.error(i.error),g(!1)):r(),e.next=22;break;case 20:d.b.error("Something went wrong, Please try again!"),g(!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(x.a,{variant:"contained",onClick:function(){return s(!0)},color:"primary",children:"Pay"}),o&&Object(I.jsxs)(Ce,{heading:"Payment",onClose:function(){return s(!1)},showEdit:!1,handleAction:B,actionLabel:"Pay",loadingAction:j,children:[Object(I.jsx)(Ke,{value:w.paymentDate,onChange:function(e){k((function(t){return Object(O.a)(Object(O.a)({},t),{},{paymentDate:e})}))}}),Object(I.jsx)(T,{required:!0,value:w.totalAmount,error:"totalAmount"===A,errorMsg:M,name:"totalAmount",label:"Total Amount",onChange:D,type:"number"}),Object(I.jsx)(T,{required:w.totalAmount!=n,value:w.comment,error:"comment"===A,errorMsg:M,name:"comment",label:"Comment",onChange:D})]})]})}var dt=Object(v.a)(tt);function jt(e){var t=e.data,n=e.showEdit,a=e.onEditClose,r=e.activeEmployee,c=e.handlePaymentDone,i=dt(),o=18*parseInt(t.quantity),s=L("userRole"),l=!1;return s&&(l=JSON.parse(s).includes("admin")),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:i.content,children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Date"}),at()(t.date).format("Do MMM'YY")]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Quantity"}),t.quantity]}),l&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Calculated Amount"})," \u20b9 ",Number(o).toLocaleString("en-IN")]}),"DONE"===t.status?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Amount Paid"})," \u20b9 ",Number(t.totalAmount).toLocaleString("en-IN")]}),t.comment&&Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Comment"}),t.comment]})]}):Object(I.jsx)(ut,{id:t.id,computedAmount:o,handleUpdate:c})]})]}),n&&Object(I.jsx)($e,{employeeId:r,handleClose:a,values:t})]})}var bt=Object(v.a)(tt);function ht(e){var t=e.data,n=e.showEdit,a=e.onEditClose,r=e.activeEmployee,c=e.product,i=bt();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:i.content,children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Date"}),at()(t.date).format("Do MMM'YY")]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Weight"}),t.weight," KG"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Quantity"}),t.quantity]})]}),n&&Object(I.jsx)(_e,{employeeId:r,handleClose:a,values:t,product:c})]})}var pt=Object(v.a)(tt);function Ot(e){var t=e.data,n=e.showEdit,a=e.onEditClose,r=e.activeEmployee,c=e.handlePaymentDone,i=pt(),o=11*parseInt(t.quantity)*13+(t.extraLungi?13*parseInt(t.extraLungi):0),s=L("userRole"),l=!1;return s&&(l=JSON.parse(s).includes("admin")),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:i.content,children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Date"}),at()(t.date).format("Do MMM'YY")]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Quantity"}),t.quantity]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Weight"}),t.weight," KG"]}),t.extraLungi&&Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Extra Lungi"}),t.extraLungi]}),l&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Calculated Amount"})," \u20b9 ",Number(o).toLocaleString("en-IN")]}),"DONE"===t.status?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Amount Paid"})," \u20b9 ",Number(t.totalAmount).toLocaleString("en-IN")]}),t.comment&&Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Comment"}),t.comment]})]}):Object(I.jsx)(ut,{id:t.id,computedAmount:o,handleUpdate:c})]})]}),n&&Object(I.jsx)(et,{employeeId:r,handleClose:a,values:t})]})}var mt=Object(v.a)(tt),gt={LUNGI:[{name:"Than",value:"THAN"},{name:"Cone",value:"CONE"},{name:"Bheem",value:"BHEEM"}],CHAUKA:[{name:"Chauka",value:"CHAUKA"},{name:"Cone",value:"CONE"},{name:"Bheem",value:"BHEEM"}]};function xt(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!0),o=Object(m.a)(i,2),s=o[0],l=o[1],u=Object(a.useState)(e.match.params.id||""),j=Object(m.a)(u,2),p=j[0],O=j[1],g=Object(a.useState)("LUNGI"),v=Object(m.a)(g,2),w=v[0],C=v[1],N=Object(a.useState)(!1),A=Object(m.a)(N,2),L=A[0],E=A[1],q=Object(a.useState)(!1),M=Object(m.a)(q,2),P=M[0],T=M[1],D=Object(a.useState)(!1),B=Object(m.a)(D,2),F=B[0],W=B[1],U=Object(a.useState)("THAN"),G=Object(m.a)(U,2),H=G[0],J=G[1],Y=Object(a.useState)(null),R=Object(m.a)(Y,2),z=R[0],Q=R[1],Z=Object(a.useState)(!1),V=Object(m.a)(Z,2),X=V[0],$=V[1];Object(a.useEffect)((function(){_(),e.match.params.id&&ee(e.match.params.id,w,H)}),[]);var _=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y).concat(k),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:(n=e.sent).error?d.b.error(n.error):c(n),e.next=11;break;case 10:d.b.error("Something went wrong, Please try again!");case 11:l(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(null),E(!0),e.next=4,fetch("".concat(y).concat(S,"/").concat(t,"/").concat(n,"/").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:(c=e.sent).error?d.b.error(c.error):Q(c),e.next=13;break;case 12:d.b.error("Something went wrong, Please try again!");case 13:E(!1);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),te=function(e){return function(){return T(e)}},ne=mt(),ae="CONE"===H?_e:"BHEEM"===H?Xe:"LUNGI"===w?et:$e,re="CONE"===H?ht:"BHEEM"===H?lt:"LUNGI"===w?Ot:jt;return Object(I.jsxs)("div",{className:"App",children:[s?Object(I.jsx)(f.a,{}):Object(I.jsx)(I.Fragment,{children:r?Object(I.jsx)(Ue,{name:"activeEmployee",label:"Selected",value:p,options:r.map((function(e){return{value:e.id,name:e.name}})),onChange:function(e){var t=e.target.value;O(t),ee(t,w,H)}}):Object(I.jsx)("p",{children:"No Person Found!"})}),p&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(K.a,{}),Object(I.jsx)(Ee.a,{component:"fieldset",children:Object(I.jsxs)(qe.a,{row:!0,"aria-label":"Product",name:"product",value:w,onChange:function(e){var t=e.target.value;C(t),J(gt[t][0].value),ee(p,t,gt[t][0].value)},children:[Object(I.jsx)(Ie.a,{value:"LUNGI",control:Object(I.jsx)(Me.a,{color:"primary"}),label:"Lungi"}),Object(I.jsx)(Ie.a,{value:"CHAUKA",control:Object(I.jsx)(Me.a,{color:"primary"}),label:"Chauka"})]})}),Object(I.jsxs)("div",{className:ne.dropBtn,children:[Object(I.jsx)("div",{className:ne.dropdown,children:Object(I.jsx)(Ue,{name:"type",label:"Type",value:H,options:gt[w],onChange:function(e){var t=e.target.value;J(t),ee(p,w,t)}})}),Object(I.jsx)("div",{className:ne.btn,children:Object(I.jsx)(x.a,{variant:"contained",onClick:function(){$(!0)},color:"primary",disabled:!1,children:L?Object(I.jsx)(f.a,{size:25}):"Add"})})]}),L?Object(I.jsx)("div",{children:Object(I.jsx)(f.a,{})}):Object(I.jsx)(I.Fragment,{children:z&&z.length>0?z.map((function(e){return Object(I.jsx)(a.Fragment,{children:"THAN"===H||"CHAUKA"===H?Object(I.jsx)(ot,{data:e,handleOpenDetails:te(e)}):Object(I.jsx)(ct,{data:e,handleOpenDetails:te(e)})},e.id)})):Object(I.jsx)("p",{children:"No Data Found!"})}),X&&Object(I.jsx)(ae,{employeeId:p,handleClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$(!1),!0===e&&ee(p,w,H)},product:w})]}),P&&Object(I.jsx)(Ce,{heading:"Details",onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];T(!1),W(!1),!0===e&&ee(p,w,H)},showEdit:"DONE"!==P.status,editOpenCallback:function(){W(!0)},children:Object(I.jsx)(re,{data:P,showEdit:F,onEditClose:function(e){W(!1),!0===e&&(T(!1),ee(p,w,H))},activeEmployee:p,product:w,handlePaymentDone:function(){T(!1),ee(p,w,H)}})})]})}function ft(){return Object(I.jsx)(se,{children:Object(I.jsxs)(u.d,{children:[Object(I.jsx)(le,{path:"/",component:Le,exact:!0,authRequired:!0}),Object(I.jsx)(le,{path:"/users",component:xt,exact:!0,authRequired:!0}),Object(I.jsx)(le,{path:"/users/:id",component:xt,authRequired:!0}),Object(I.jsx)(le,{path:"/home",component:Le,authRequired:!0})]})})}function vt(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(d.a,{position:"top-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(I.jsxs)(u.d,{children:[Object(I.jsx)(u.b,{path:"/login",component:B}),Object(I.jsx)(u.b,{component:ft})]})]})}n(128);i.a.render(Object(I.jsx)(l.a,{children:Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(s.a,{utils:o.a,children:Object(I.jsx)(vt,{})})})}),document.getElementById("root"))},86:function(e,t,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.8ecfa0fd.chunk.js.map